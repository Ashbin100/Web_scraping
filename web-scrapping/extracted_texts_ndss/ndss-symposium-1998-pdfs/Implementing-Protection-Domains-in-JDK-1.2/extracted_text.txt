Implementing Protection Domains
in JDK 1.2
Li Gong
Java Security Architect
JavaSoft, Sun Microsystems, Inc.
March, 1998
Li Gong , JavaSoft, March, 1998 1Outline of Presentation
• Overall security model
• Concept of protection domain
• Tricky details in implementation
– domain resolution
– extensibility
– multi-domain computation
– performance
• Questions and answers
Li Gong , JavaSoft, March, 1998 2JDK 1.2 Security Model
Li Gong , JavaSoft, March, 1998 3Security Policy in ACL
what code what permissions
CharlesSchwab read and write /tmp
applets, signed and /home/gong/stock
CharlesSchwab
connect and accept
applets, signed
bankofaemrican.com
and unsigned
... ...
Li Gong , JavaSoft, March, 1998 4Class->Domain->Permissions
Li Gong , JavaSoft, March, 1998 5Access Control Mechanism
Li Gong , JavaSoft, March, 1998 6Permission Classes
Li Gong , JavaSoft, March, 1998 7Permission Relationship
PermissionA.implies(PermissionB) = true?
FilePermission(“/tmp/*”, “read”);
FilePermission(“/usr/bin”, “execute”);
;
FilePermission(“/tmp/x.txt”, “read”)
SocketPermission(“*.sun.com”, “accept”);
Li Gong , JavaSoft, March, 1998 8Multi-Domain Computation
Li Gong , JavaSoft, March, 1998 9Privileged Computation
Li Gong , JavaSoft, March, 1998 10Discussion
• Security context inheritance
• Class method inheritance’s impact on
security
• Lazy or eager computation
• Performance
Li Gong , JavaSoft, March, 1998 11Access Control Performance
usecs
1600
1400
1200
1000
checkPerm
800
non-optimized
600
400
200
0
4 8 12 16 20 # of domains
*
beginPrivileged and endPrivileged add 2 usecs
Li Gong , JavaSoft, March, 1998 12JDK 1.2 Security Summary
• Flexible and configurable policy
• Fine-grained access control
• Security for all Java programs
• Security mostly transparent
• Primitives for advanced developers
Li Gong , JavaSoft, March, 1998 13Security Policy in ACL
grant CodeBase “http://schwab.com”,
SignedBy “CharlesSchwab” {
Permission java.io.FilePermission
“/home/gong/stockbook/*”, “read,write”;
Permission java.io.FilePermission
“/tmp/*”, “read,write”;
};
grant CodeBase “http://schwab.com”,
SignedBy “*” {
Permission java.net.SocketPermission
;
“bankofamerica.com” “connect,accept”
};
Li Gong , JavaSoft, March, 1998 14